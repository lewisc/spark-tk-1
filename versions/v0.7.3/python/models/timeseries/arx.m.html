<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>sparktk.models.timeseries.arx API documentation</title>
    <meta name="description" content="ARX (autoregressive exogenous) Model" />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: Arial, Helvetica, sans;
    font-size: 14px;
  }
  #content {
    position: absolute;
    left: 25%;
    right: 0;
    top: 0;
    bottom: 0;
    overflow: auto;
    padding: 30px;
    height: 100%;
  }
  #sidebar {
    position: absolute;
    width: 25%;
    top: 0;
    right: 0;
    left: 0;
    padding: 30px;
    overflow: auto;
    height: 100%;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #fixed_top_left {
    display: block;
    position: fixed;
    top: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
    background: transparent;
    z-index: 1;  /* Set z-index so that it doesn't get lost behind the sidebar */
  }

  #footer {
    font-size: .75em;
    margin-top: 20px;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    font-size: 1.5em;
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name, .param-name {
    font-family: Consolas, "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }
  .section-header {
    font-weight: bold;
    padding: 10px 0 5px 0;
  }
  .param-name {
    font-weight: bold;
    text-align: left;
    vertical-align: top;
  }
  .param-type {
    font-style: italic;
    text-align: left;
    vertical-align: top;
    padding-left: 5px;
  }
  .param-desc {
    text-align: left;
    vertical-align: top;
    padding-left: 5px;
  }
  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
      background: #f9f9f9;
      font-size: 13px;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 20px 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>


  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
  <a href="index.html" id="fixed_top_left">Up</a>
  <!--<a href="#" id="top">Top</a>-->
  <div id="container">
      
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#sparktk.models.timeseries.arx.load">load</a></li>
    <li class="mono"><a href="#sparktk.models.timeseries.arx.train">train</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#sparktk.models.timeseries.arx.ArxModel">ArxModel</a></span>
        
          
  <ul>
    <li class="mono"><a href="#sparktk.models.timeseries.arx.ArxModel.__init__">__init__</a></li>
    <li class="mono"><a href="#sparktk.models.timeseries.arx.ArxModel.export_to_mar">export_to_mar</a></li>
    <li class="mono"><a href="#sparktk.models.timeseries.arx.ArxModel.predict">predict</a></li>
    <li class="mono"><a href="#sparktk.models.timeseries.arx.ArxModel.save">save</a></li>
    <li class="mono"><a href="#sparktk.models.timeseries.arx.ArxModel.to_dict">to_dict</a></li>
    <li class="mono"><a href="#sparktk.models.timeseries.arx.ArxModel.to_json">to_json</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

      <article id="content">
        <div>
        
  

  


  <header id="section-intro">
<h1 class="title"><span class="name">sparktk</span> arx</h1>  <p>ARX (autoregressive exogenous) Model</p>
  

  </header>

  <section id="section-items">

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="sparktk.models.timeseries.arx.load">
    <p>def <span class="ident">load</span>(</p><p>path, tc=&lt;class &#39;sparktk.arguments.implicit&#39;&gt;)</p>
    </div>
    

    
  
    <div class="desc"><p>load ArxModel from given path</p></div>
  <div class="source_cont">
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="sparktk.models.timeseries.arx.train">
    <p>def <span class="ident">train</span>(</p><p>frame, ts_column, x_columns, y_max_lag, x_max_lag, no_intercept=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates a ARX model by training on the given frame. Fit an autoregressive model with additional
exogenous variables.</p>
<div class='section-header'>Parameters:</div>

<table><tr><td class='param-name'>frame</td><td class='param-type'>(Frame):</td><td class='param-desc'>Frame used for training
</td></tr></table>

<table><tr><td class='param-name'>ts_column</td><td class='param-type'>(str):</td><td class='param-desc'>Name of the column that contains the time series values.
</td></tr></table>

<table><tr><td class='param-name'>x_columns</td><td class='param-type'>(List(str)):</td><td class='param-desc'>Names of the column(s) that contain the values of exogenous regressors.
</td></tr></table>

<table><tr><td class='param-name'>y_max_lag</td><td class='param-type'>(int):</td><td class='param-desc'>The maximum lag order for the dependent (time series) variable.
</td></tr></table>

<table><tr><td class='param-name'>x_max_lag</td><td class='param-type'>(int):</td><td class='param-desc'>The maximum lag order for exogenous variables.
</td></tr></table>

<table><tr><td class='param-name'>no_intercept</td><td class='param-type'>(bool):</td><td class='param-desc'>A boolean flag indicating if the intercept should be dropped. Default is false.
</td></tr></table>

<p><table style='padding-top:10px'><tr><td class='param-name'>Returns</td><td class='param-type'>(ArxModel): </td><td class='param-desc'>Trained ARX model</td></tr></table></p>

<div class='section-header'>Notes:</div>

<ol>
<li>Dataset being trained must be small enough to be worked with on a single node.</li>
<li>If the specified set of exogenous variables is not invertible, an exception is
    thrown stating that the "matrix is singular".  This happens when there are
    certain patterns in the dataset or columns of all zeros.  In order to work
    around the singular matrix issue, try selecting a different set of columns for
    exogenous variables, or use a different time window for training.</li>
</ol></div>
  <div class="source_cont">
</div>

  </div>
  

    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="sparktk.models.timeseries.arx.ArxModel" class="name">class <span class="ident">ArxModel</span></p>
      
  
    <div class="desc"><p>A trained ARX model.</p>
<div class='section-header'>Example:</div>

<p>Consider the following model trained and tested on the sample data set in <em>frame</em> 'frame'.
The frame has a snippet of air quality data from:</p>
<p>https://archive.ics.uci.edu/ml/datasets/Air+Quality.</p>
<p>Lichman, M. (2013). UCI Machine Learning Repository [http://archive.ics.uci.edu/ml].
Irvine, CA: University of California, School of Information and Computer Science.</p>
<pre><code>&gt;&gt;&gt; frame.inspect()
[#]  Date        Time      CO_GT  PT08_S1_CO  NMHC_GT  C6H6_GT  PT08_S2_NMHC
============================================================================
[0]  10/03/2004  18.00.00    2.6        1360      150     11.9          1046
[1]  10/03/2004  19.00.00    2.0        1292      112      9.4           955
[2]  10/03/2004  20.00.00    2.2        1402       88      9.0           939
[3]  10/03/2004  21.00.00    2.2        1376       80      9.2           948
[4]  10/03/2004  22.00.00    1.6        1272       51      6.5           836
[5]  10/03/2004  23.00.00    1.2        1197       38      4.7           750
[6]  11/03/2004  00.00.00    1.2        1185       31      3.6           690
[7]  11/03/2004  01.00.00    1.0        1136       31      3.3           672
[8]  11/03/2004  02.00.00    0.9        1094       24      2.3           609
[9]  11/03/2004  03.00.00    0.6        1010       19      1.7           561
&lt;BLANKLINE&gt;
[#]  NOx_GT  PT08_S3_NOx  NO2_GT  PT08_S4_NO2  PT08_S5_O3_  T     RH    AH
==============================================================================
[0]     166         1056     113         1692         1268  13.6  48.9  0.7578
[1]     103         1174      92         1559          972  13.3  47.7  0.7255
[2]     131         1140     114         1555         1074  11.9  54.0  0.7502
[3]     172         1092     122         1584         1203  11.0  60.0  0.7867
[4]     131         1205     116         1490         1110  11.2  59.6  0.7888
[5]      89         1337      96         1393          949  11.2  59.2  0.7848
[6]      62         1462      77         1333          733  11.3  56.8  0.7603
[7]      62         1453      76         1333          730  10.7  60.0  0.7702
[8]      45         1579      60         1276          620  10.7  59.7  0.7648
[9]    -200         1705    -200         1235          501  10.3  60.2  0.7517
</code></pre>
<p>We will be using the column "T" (temperature) as our time series value:</p>
<pre><code>&gt;&gt;&gt; y = "T"
</code></pre>
<p>The sensor values will be used as our exogenous variables:</p>
<pre><code>&gt;&gt;&gt; x = ['CO_GT','PT08_S1_CO','NMHC_GT','C6H6_GT','PT08_S2_NMHC','NOx_GT','PT08_S3_NOx','NO2_GT','PT08_S4_NO2','PT08_S5_O3_']
</code></pre>
<p>Train the model and then take a look at the model properties and coefficients:</p>
<pre><code>&gt;&gt;&gt; model = tc.models.timeseries.arx.train(frame, y, x, 0, 0, True)
[===Job Progress===]

&gt;&gt;&gt; model
c            = 0.0
coefficients = [0.005567992923907625, -0.010969068059453009, 0.012556586798371176, -0.39792503380811506, 0.04289162879826746, -0.012253952164677924, 0.01192148525581035, 0.014100699808650077, -0.021091473795935345, 0.007622676727420039]
no_intercept = True
x_max_lag    = 0
y_max_lag    = 0
</code></pre>
<p>In this example, we will call predict using the same frame that was used for training, again specifying the name
of the time series column and the names of the columns that contain exogenous regressors.</p>
<pre><code>&gt;&gt;&gt; predicted_frame = model.predict(frame, y, x)
[===Job Progress===]
</code></pre>
<p>The predicted_frame that's return has a new column called <em>predicted_y</em>.  This column contains the predicted
time series values.</p>
<pre><code>&gt;&gt;&gt; predicted_frame.column_names
[u'Date',
 u'Time',
 u'CO_GT',
 u'PT08_S1_CO',
 u'NMHC_GT',
 u'C6H6_GT',
 u'PT08_S2_NMHC',
 u'NOx_GT',
 u'PT08_S3_NOx',
 u'NO2_GT',
 u'PT08_S4_NO2',
 u'PT08_S5_O3_',
 u'T',
 u'RH',
 u'AH',
 u'predicted_y']

&gt;&gt;&gt; predicted_frame.inspect(n=15, columns=["T","predicted_y"])
[##]  T     predicted_y
=========================
[0]   13.6   13.236459938
[1]   13.3  13.0250130899
[2]   11.9  11.4147282294
[3]   11.0  11.3157457822
[4]   11.2  11.3982074883
[5]   11.2  11.7079198051
[6]   11.3  10.7879916472
[7]   10.7   10.527428478
[8]   10.7  10.4439615476
[9]   10.3   10.276662138
[10]  10.1  10.0999996581
[11]  11.0  11.2849327784
[12]  10.5  10.5726885589
[13]  10.2  10.1984619512
[14]  10.8  11.0063774234
</code></pre>
<p>The trained model can be saved to be used later:</p>
<pre><code>&gt;&gt;&gt; model_path = "sandbox/savedArxModel"
&gt;&gt;&gt; model.save(model_path)
</code></pre>
<p>The saved model can be loaded through the tk context and then used for forecasting values the same way
that the original model was used.</p>
<pre><code>&gt;&gt;&gt; loaded_model = tc.load(model_path)

&gt;&gt;&gt; predicted_frame = loaded_model.predict(frame, y, x)

&gt;&gt;&gt; predicted_frame.inspect(n=15,columns=["T","predicted_y"])
[##]  T     predicted_y
=========================
[0]   13.6   13.236459938
[1]   13.3  13.0250130899
[2]   11.9  11.4147282294
[3]   11.0  11.3157457822
[4]   11.2  11.3982074883
[5]   11.2  11.7079198051
[6]   11.3  10.7879916472
[7]   10.7   10.527428478
[8]   10.7  10.4439615476
[9]   10.3   10.276662138
[10]  10.1  10.0999996581
[11]  11.0  11.2849327784
[12]  10.5  10.5726885589
[13]  10.2  10.1984619512
[14]  10.8  11.0063774234
</code></pre>
<p>The trained model can also be exported to a .mar file, to be used with the scoring engine:</p>
<pre><code>&gt;&gt;&gt; canonical_path = model.export_to_mar("sandbox/arx.mar")
</code></pre></div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#sparktk.models.timeseries.arx.ArxModel">ArxModel</a></li>
          <li>sparktk.propobj.PropertiesObject</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="sparktk.models.timeseries.arx.ArxModel.c" class="name">var <span class="ident">c</span></p>
            

            
  
    <div class="desc"><p>An intercept term (zero if none desired), from the trained model.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="sparktk.models.timeseries.arx.ArxModel.coefficients" class="name">var <span class="ident">coefficients</span></p>
            

            
  
    <div class="desc"><p>Coefficient values from the trained model.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="sparktk.models.timeseries.arx.ArxModel.no_intercept" class="name">var <span class="ident">no_intercept</span></p>
            

            
  
    <div class="desc"><p>A boolean flag indicating if the intercept should be dropped.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="sparktk.models.timeseries.arx.ArxModel.x_max_lag" class="name">var <span class="ident">x_max_lag</span></p>
            

            
  
    <div class="desc"><p>The maximum lag order for exogenous variables.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="sparktk.models.timeseries.arx.ArxModel.y_max_lag" class="name">var <span class="ident">y_max_lag</span></p>
            

            
  
    <div class="desc"><p>The maximum lag order for the dependent (time series) values.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="sparktk.models.timeseries.arx.ArxModel.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, tc, scala_model)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="sparktk.models.timeseries.arx.ArxModel.export_to_mar">
    <p>def <span class="ident">export_to_mar</span>(</p><p>self, path)</p>
    </div>
    

    
  
    <div class="desc"><p>Exports the trained model as a model archive (.mar) to the specified path.</p>
<div class='section-header'>Parameters:</div>

<table><tr><td class='param-name'>path</td><td class='param-type'>(str):</td><td class='param-desc'>Path to save the trained model
</td></tr></table>

<p>:returns (str) Full path to the saved .mar file</p></div>
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="sparktk.models.timeseries.arx.ArxModel.predict">
    <p>def <span class="ident">predict</span>(</p><p>self, frame, ts_column, x_columns)</p>
    </div>
    

    
  
    <div class="desc"><p>New frame with column of predicted y values</p>
<p>Predict the time series values for a test frame, based on the specified x values.  Creates a new frame
revision with the existing columns and a new predicted_y column.</p>
<div class='section-header'>Parameters:</div>

<table><tr><td class='param-name'>frame</td><td class='param-type'>(Frame):</td><td class='param-desc'>Frame used for predicting the ts values
</td></tr></table>

<table><tr><td class='param-name'>ts_column</td><td class='param-type'>(str):</td><td class='param-desc'>Name of the time series column
</td></tr></table>

<table><tr><td class='param-name'>x_columns</td><td class='param-type'>(List[str]):</td><td class='param-desc'>Names of the column(s) that contain the values of the exogenous inputs.
</td></tr></table>

<p><table style='padding-top:10px'><tr><td class='param-name'>Returns</td><td class='param-type'>(Frame): </td><td class='param-desc'>A new frame containing the original frame's columns and a column *predictied_y*</td></tr></table></p></div>
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="sparktk.models.timeseries.arx.ArxModel.save">
    <p>def <span class="ident">save</span>(</p><p>self, path)</p>
    </div>
    

    
  
    <div class="desc"><p>Save the trained model to the specified path.</p>
<div class='section-header'>Parameters:</div>

<table><tr><td class='param-name'>path</td><td class='param-type'>(str):</td><td class='param-desc'>Path to save</td></tr></table></div>
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="sparktk.models.timeseries.arx.ArxModel.to_dict">
    <p>def <span class="ident">to_dict</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="sparktk.models.timeseries.arx.ArxModel.to_json">
    <p>def <span class="ident">to_json</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
      </div>
      </div>

  </section>

        </div>
        <div class="clear" />
        <footer id="footer">
          <div>
            spark-tk Python API Documentation
          </div>
        </footer>
      </article>
  </div>
</body>
</html>
